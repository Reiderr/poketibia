local NPCPrice = {
["seed"] = {price = 30},
["electric box"] = {price = 150},
["sandbag"] = {price = 150},
["comb"] = {price = 150},
["fur"] = {price = 150},
["ruby"] = {price = 300},
["essence of fire"] = {price = 30},
["small stone"] = {price = 30},
["pot of moss bug"] = {price = 150},
["screw"] = {price = 30},
["straw"] = {price = 100},
["water gem"] = {price = 30},
["remains of magikarp"] = {price = 100},
["teeth"] = {price = 150},
["bottle of poison"] = {price = 30},
["water pendant"] = {price = 100},
["feather"] = {price = 150},
["pair of leaves"] = {price = 150},
["apple bite"] = {price = 60},
["bat wing"] = {price = 150},
["pot of lava"] = {price = 150},
["fire pendant"] = {price = 100},
["bug venom"] = {price = 100},
["bug antenna"] = {price = 150},
["venom pendant"] = {price = 100},
["pot of venom"] = {price = 150},
["iron bracelet"] = {price = 150},
["ice orb"] = {price = 150},
["gosme"] = {price = 150},
["darkness gem,"] = {price = 30},
["bug gosme"] = {price = 80},
["enchanted gem,"] = {price = 30},
["horn"] = {price = 150},
["venom piece"] = {price = 150},
["big wing"] = {price = 500},
["dragon tail"] = {price = 500},
["purple tail"] = {price = 500},
["majesty wing"] = {price = 500},
["alligator skin"] = {price = 500},
["big egg"] = {price = 500},
["teel feather"] = {price = 50000},
["red feather"] = {price = 50000},
["yellow feather"] = {price = 50000},
["registeel orb"] = {price = 50000},
["white rune"] = {price = 500},
["foxtail"] = {price = 500},
["pot with fire"] = {price = 350},
["water orb"] = {price = 350},
["iron piece"] = {price = 350},
["gyarados tail"] = {price = 500},
["bulb"] = {price = 350},
["long fang"] = {price = 400},
["turtle hull"] = {price = 350},
["dragon tooth"] = {price = 1000},
["iron pin"] = {price = 400},
["mimic clothes"] = {price = 1000},
["scythe"] = {price = 1000},
["buzz tail"] = {price = 1000},
["bird beak"] = {price = 200},
["rat tail"] = {price = 200},
["longhorn"] = {price = 350},
["luck medalion"] = {price = 350},
["wool ball"] = {price = 400},
["psyduck mug"] = {price = 350},
["punch toy"] = {price = 500},
["twisted spoon"] = {price = 350},
["future orb"] = {price = 250},
["champion belt"] = {price = 400},
["slowpoke tail"] = {price = 300},
["imam"] = {price = 250},
["stick slash"] = {price = 300},
["traces of ghost"] = {price = 350},
["onix tail"] = {price = 300},
["bone"] = {price = 250},
["big tongue"] = {price = 500},
["power orb"] = {price = 250},
["bracelet"] = {price = 250},
["star"] = {price = 200},
["magma orb"] = {price = 250},
["shell"] = {price = 200},
["iron bar"] = {price = 250},
["bag of poison dust"] = {price = 250},
["steel wing"] = {price = 500},
["green orb"] = {price = 250},
["steel ore"] = {price = 400},
["charizard wing"] = {price = 600},
["magma box"] = {price = 400},
["giant turtle hull"] = {price = 600},
["red gyarados tail"] = {price = 10000},
["crystal tail"] = {price = 1000},
["Helix Fossil"] = {price = 150000},
["Dome Fossil"] = {price = 150000},
["Old Amber"] = {price = 500000},
["green apple bite"] = {price = 400},
["leaf pendant"] = {price = 350},
["bone mask"] = {price = 400},
["pikachu tail"] = {price = 300},
["raichu tail"] = {price = 500},
["blue vines"] = {price = 350},
["stone orb"] = {price = 250},
["locksmith of shell"] = {price = 200},
["crab claw"] = {price = 200},
["noctowl own"] = {price = 500},
["togepi egg"] = {price = 400},
["pinsir horn"] = {price = 350},
["ice bra"] = {price = 500},
["xatu wing"] = {price = 500},
["snake tail"] = {price = 350},
["seahorse tail"] = {price = 300},
["strange sting"] = {price = 300},
["tentacle"] = {price = 300},
["strange rock"] = {price = 250},
["skarmory wing"] = {price = 600},
["scizor claw"] = {price = 600},
["star gem"] = {price = 500},
["tyranitar tail"] = {price = 600},
["small tail"] = {price = 300},
["magmar foot"] = {price = 1000},
["red wing"] = {price = 500},
["gligar claw"] = {price = 350},
["insect foot"] = {price = 350},
["strange wing"] = {price = 400},
["mantine tail"] = {price = 400},
["small tusk"] = {price = 350},
["nidoran male ear"] = {price = 250},
["skin tail"] = {price = 200},
["sting hand"] = {price = 200},
["aipom hand"] = {price = 250},
["ledyba wing"] = {price = 200},
["strange antenna"] = {price = 250},
["squirry tail"] = {price = 250},
["point of light"] = {price = 300},
["kangaskhan ear"] = {price = 500},
["strange flower"] = {price = 350},
["great petal"] = {price = 350},
["great flower"] = {price = 500},
["fire tail"] = {price = 400},
["strange horn"] = {price = 350},
["piece of coral"] = {price = 350},
["shuckle armor"] = {price = 350},
["plant tail"] = {price = 250},
["sea tail"] = {price = 250},
["helicopter leaves"] = {price = 200},
["strange spike"] = {price = 200},
["bag of pollem"] = {price = 200},
["Heart Stone"] = {price = 5000},
["Leaf Stone"] = {price = 5000},
["Water Stone"] = {price = 5000},
["Fire Stone"] = {price = 5000},
["Metal Stone"] = {price = 50000},
["Crystal Stone"] = {price = 50000},
["Ancient Stone"] = {price = 50000},
["Venom Stone"] = {price = 5000},
["Thunder Stone"] = {price = 5000},
["Rock Stone"] = {price = 5000},
["Punch Stone"] = {price = 5000},
["Coccon Stone"] = {price = 5000},
["Darkness Stone"] = {price = 5000},
["Earth Stone"] = {price = 5000},
["Enigma Stone"] = {price = 5000},
["Ice Stone"] = {price = 5000},
["Boost Stone"] = {price = 200000},
["Mega Stone"] = {price = 100000},
}

local NPCBattle = {
["Brock"] = {artig = "He is", cidbat = "Pewter"},
["Misty"] = {artig = "She is", cidbat = "Cerulean"}, 
["Blaine"] = {artig = "He is", cidbat = "Cinnabar"},
["Sabrina"] = {artig = "She is", cidbat = "Saffron"},         --alterado v1.9 \/ peguem tudo!
["Kira"] = {artig = "She is", cidbat = "Viridian"},
["Koga"] = {artig = "He is", cidbat = "Fushcia"},
["Erika"] = {artig = "She is", cidbat = "Celadon"},
["Surge"] = {artig = "He is", cidbat = "Vermilion"},
}

local shinys = {
["Shiny Abra"] = "Dark Abra",
["Shiny Onix"] = "Crystal Onix",
["Shiny Gyarados"] = "Red Gyarados",
["Shiny Charizard"] = "Elder Charizard",
["Shiny Venusaur"] = "Ancient Venusaur",
["Shiny Blastoise"] = "Ancient Blastoise",
["Shiny Farfetch'd"] = "Elite Farfetch'd",
["Shiny Hitmonlee"] = "Elite Hitmonlee",
["Shiny Himonchan"] = "Elite Hitmonchan",
["Shiny Snorlax"] = "Big Snorlax",
}


function onLook(cid, thing, position, lookDistance)
                                                        
local str = {}
local isTrade = false
if lookDistance == 0 then isTrade = true end -- trade lookDistanc end
			   
if not isCreature(thing.uid) then
   local iname = getItemInfo(thing.itemid)
   if isPokeball(thing.itemid) and getItemAttribute(thing.uid, "poke") then
      local isDittoBall = isInArray({"Ditto", "Shiny Ditto"}, getItemAttribute(thing.uid, "poke")) and true or false
      unLock(thing.uid)
      local lock = getItemAttribute(thing.uid, "lock")        
      local pokename = isDittoBall and getItemAttribute(thing.uid, "copyName") or getItemAttribute(thing.uid, "poke")
      local heldx = getItemAttribute(thing.uid, "xHeldItem")
	  local heldy = getItemAttribute(thing.uid, "yHeldItem")
	  local megaID = getItemAttribute(thing.uid, "megaID")
	  
	  local pokeBallName = getItemAttribute(thing.uid, "ball")
	  if not pokeBallName then doItemSetAttribute(thing.uid, "ball", "poke") pokeBallName = "Poke" end
		 
	  if isGod(cid) then table.insert(str, "ItemID[".. thing.itemid .."].\n") end
      table.insert(str, "You see ".. doCorrectString(pokeBallName) .."ball.")   
      if getItemAttribute(thing.uid, "unique") then               
         table.insert(str, " It's an unique item.")   
      end
	  
		table.insert(str, "\nIt contains "..getArticle(pokename).." "..pokename.. (isDittoBall and " (Ditto)" or "") .. " ") 
		
		      if getItemAttribute(thing.uid, "nick") then
		table.insert(str, "("..getItemAttribute(thing.uid, "nick").."). ")
		end
			  
      local boost = getItemAttribute(thing.uid, "boost") or 0
      if boost > 0 then
         table.insert(str, "+"..boost..". ")
      end
	  
      if lock and lock > 0 then
         table.insert(str, "It will unlock in ".. os.date("%d/%m/%y %X", lock)..".\n")  
      end
	 
	  
	  local heldName, heldTier = "", ""
	  local heldYName, heldYTier = "", ""
	  
	  if heldx or heldy then
		   if heldx then heldName, heldTier = string.explode(heldx, "|")[1], string.explode(heldx, "|")[2] end
		   if heldy then heldYName, heldYTier = string.explode(heldy, "|")[1], string.explode(heldy, "|")[2] end
		  local heldString = heldName ..  " (tier: " .. heldTier .. ")"
		  local heldYString = heldYName ..  (not isInArray({"Mega", "GHOST"}, heldYTier) and " (tier: " .. heldYTier .. ")" or "")
			  if heldx and heldy then
				table.insert(str, "Holding: " .. heldString .. " and " .. heldYString .. ". ")
			  elseif heldx then
				table.insert(str, "Holding: "..heldString..". ")
			  elseif heldy then
				table.insert(str, "Holding: "..heldYString ..". ")
			  end
	  end
      doPlayerSendTextMessage(cid, MESSAGE_INFO_DESCR, table.concat(str))
      return false
      
   elseif getItemAttribute(thing.uid, "pokeName") and string.find(getItemAttribute(thing.uid, "pokeName"), "fainted") then     
	  local lootName = getItemAttribute(thing.uid, "pokeName")
	  if isGod(cid) then table.insert(str, "ItemID[".. thing.itemid .."].\n") end
	  
      table.insert(str, "You see a "..string.lower(lootName)..". ")     
      if isContainer(thing.uid) then
         table.insert(str, "(Vol: "..getContainerCap(thing.uid)..")")
      end
	  if getItemAttribute(thing.uid, "corpseowner") then
		 if getItemAttribute(thing.uid, "corpseowner") == "asçdlkasçldkaçslkdçaskdçaslkdçlsakdçkaslç" then
			table.insert(str, "\nSuicidou-se.")
		 else
	        table.insert(str, "\nEle foi morto por: ("..getItemAttribute(thing.uid, "corpseowner")..")")
		 end
	  end
      doPlayerSendTextMessage(cid, MESSAGE_INFO_DESCR, table.concat(str))
      return false

   elseif isContainer(thing.uid) then     --containers

	  if isGod(cid) then table.insert(str, "ItemID[".. thing.itemid .."].\n") end
   
      if getItemAttribute(thing.uid, "iname") then
	     table.insert(str, "You see "..iname.article.." "..iname.name..". (Vol:"..getContainerCap(thing.uid)..").")
         table.insert(str, getItemAttribute(thing.uid, "iname")..".")
      else   
         table.insert(str, "You see "..iname.article.." "..iname.name..". (Vol:"..getContainerCap(thing.uid)..").")
      end
      if getPlayerGroupId(cid) >= 4 and getPlayerGroupId(cid) <= 6 then
         table.insert(str, "\nItemID: ["..thing.itemid.."]")     
         local pos = getThingPos(thing.uid)
         table.insert(str, "\nPosition: [X: "..pos.x.."][Y: "..pos.y.."][Z: "..pos.z.."]")  
      end
      doPlayerSendTextMessage(cid, MESSAGE_INFO_DESCR, table.concat(str))
      return false
      
   elseif getItemAttribute(thing.uid, "unique") then  
	
		if isGod(cid) then table.insert(str, "ItemID[".. thing.itemid .."].\n") end
		
      local p = getThingPos(thing.uid)
   
      table.insert(str, "You see ")
      if thing.type > 1 then
         table.insert(str, thing.type.." "..iname.plural..".")
      else
         table.insert(str, iname.article.." "..iname.name..".")
      end
      table.insert(str, " It's an unique item.\n"..iname.description)
      
      if getPlayerGroupId(cid) >= 4 and getPlayerGroupId(cid) <= 15 then
         table.insert(str, "\nItemID: ["..thing.itemid.."]")
         table.insert(str, "\nPosition: ["..p.x.."]["..p.y.."]["..p.z.."]")
      end
   
      sendMsgToPlayer(cid, MESSAGE_INFO_DESCR, table.concat(str))
      return false
elseif NPCPrice[iname.name] then
		local qnt = 0
		
		if thing.type == 0 then
			qnt = 1
		else
			qnt = thing.type
		end
		
		local p = getThingPos(thing.uid)
		local calculo = NPCPrice[iname.name].price * qnt
		
		table.insert(str, "You see ")
		if thing.type > 1 then
			table.insert(str, thing.type.." "..iname.plural..".")
		else
			table.insert(str, iname.article.." "..iname.name..".")
		end
		
		table.insert(str, "\n"..iname.description.." Price: $"..calculo..".")
		
		if getPlayerGroupId(cid) >= 4 and getPlayerGroupId(cid) <= 15 then
			table.insert(str, "\nItemID: ["..thing.itemid.."]")
			table.insert(str, "\nPosition: ["..p.x.."] ["..p.y.."] ["..p.z.."]")
		end
		
		sendMsgToPlayer(cid, MESSAGE_INFO_DESCR, table.concat(str))
		return false
	else
		return true
	end
end

local npcname = getCreatureName(thing.uid)
if ehNPC(thing.uid) and NPCBattle[npcname] then    --npcs duel
   table.insert(str, "You see "..npcname..". "..NPCBattle[npcname].artig.." leader of the gym from "..NPCBattle[npcname].cidbat..".")
   doPlayerSendTextMessage(cid, MESSAGE_INFO_DESCR, table.concat(str))
   return false
end
if getPlayerStorageValue(thing.uid, 697548) ~= -1 then    
   table.insert(str, getPlayerStorageValue(thing.uid, 697548))                                   
   local pos = getThingPos(thing.uid)
   if youAre[getPlayerGroupId(cid)] then
      table.insert(str, "\nPosition: [X: "..pos.x.."][Y: "..pos.y.."][Z: "..pos.z.."]")
   end
   doPlayerSendTextMessage(cid, MESSAGE_INFO_DESCR, table.concat(str))  
   return false
end

if not isPlayer(thing.uid) and not isMonster(thing.uid) then    --outros npcs
   table.insert(str, "You see "..getCreatureName(thing.uid)..".")
   doPlayerSendTextMessage(cid, MESSAGE_INFO_DESCR, table.concat(str))
   return false
end

if isPlayer(thing.uid) then     --player
   doPlayerSendTextMessage(cid, MESSAGE_INFO_DESCR, getPlayerDesc(cid, thing.uid, false))  
return false
end

if getCreatureName(thing.uid) == "Evolution" then return false end

if not isSummon(thing.uid) then   --monstros
   
   table.insert(str, "You see a "..string.lower(getCreatureName(thing.uid))..".\n")
   if isGod(cid) then
      table.insert(str, "Hit Points: "..getCreatureHealth(thing.uid).." / "..getCreatureMaxHealth(thing.uid)..".\n")
   end
   doPlayerSendTextMessage(cid, MESSAGE_INFO_DESCR, table.concat(str))
   return false

elseif isSummon(thing.uid) and not isPlayer(thing.uid) then  --summons


   -- local norealnick = getItemAttribute(getPlayerSlotItem(getCreatureMaster(thing.uid), 8).uid, "nick")
   local isDittoBall = isInArray({"Ditto", "Shiny Ditto"}, getItemAttribute(getPlayerSlotItem(getCreatureMaster(thing.uid), 8).uid, "poke")) and true or false
   if getCreatureMaster(thing.uid) == cid then
      local myball = getPlayerSlotItem(cid, 8).uid
      table.insert(str, "You see a "..doCorrectString(getCreatureName(thing.uid)).. (isDittoBall and " (Ditto)" or "") ..". It belongs to "..getCreatureName(getCreatureMaster(thing.uid))..".")
	 --   table.insert(str, "You see a "..doCorrectString(getCreatureName(thing.uid)).. (isDittoBall and " (Ditto)" or "") .." ("..norealnick.."). It belongs to "..getCreatureName(getCreatureMaster(thing.uid))..".")
     -- table.insert(str, "\n"..getPokemonHappinessDescription(thing.uid))  -- POKEMON HAPPY IN LOOK
      doPlayerSendTextMessage(cid, MESSAGE_INFO_DESCR, table.concat(str))
   else
      local health = "\nHit points: "..getCreatureHealth(thing.uid).."/"..getCreatureMaxHealth(thing.uid).."."
      doPlayerSendTextMessage(cid, MESSAGE_INFO_DESCR, "You see a "..doCorrectString(getCreatureName(thing.uid)).. (isDittoBall and " (Ditto)" or "") ..".\nIt belongs to "..getCreatureName(getCreatureMaster(thing.uid)).."." .. (isGod(cid) and health or "") )
   end
   return false
end
return true
end